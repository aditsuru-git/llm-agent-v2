# LLM AGENT V2

<a id="readme-top"></a>

[![Contributors][contributors-shield]][contributors-url]
[![Forks][forks-shield]][forks-url]
[![Stargazers][stars-shield]][stars-url]
[![Issues][issues-shield]][issues-url]
[![Release][release-shield]][release-url]
[![Last Commit][last-commit-shield]][last-commit-url]
[![MIT License][license-shield]][license-url]
[![Discord][discord-shield]][discord-url]

<br></br>

<div align="center">
  <p align="center">
    <img src="./assets/logo.png" alt="Logo" width="100" height="100">
    <h3 align="center">LLM Agent V2</h3>
    <p align="center">
      A modular, CLI-based AI agent built in LangGraph.
      <br />
      <!-- <a href="https://github.com/aditsuru-git/llm-agent-v2/docs"><strong>Explore the docs ¬ª</strong></a> -->
      <br />
      <br />
      <a href="https://github.com/aditsuru-git/llm-agent-v2/issues/new?labels=bug&template=bug-report.md">Report Bug</a>
      ¬∑
      <a href="https://github.com/aditsuru-git/llm-agent-v2/issues/new?labels=enhancement&template=feature-request.md">Request Feature</a>
    </p>
  </p>
</div>

> [!CAUTION]
> This project is in active development. Expect frequent updates and possible instability.
>
> <span style="color:red">Always review the commands generated by the AI before executing them, especially file system operations.</span>

<!-- TABLE OF CONTENTS -->
<details>
  <summary>Table of Contents</summary>
  <ol>
    <li>
      <a href="#about-the-project">About The Project</a>
      <ul>
        <li><a href="#built-with">Built With</a></li>
      </ul>
    </li>
    <li>
      <a href="#getting-started">Getting Started</a>
      <ul>
        <li><a href="#prerequisites">Prerequisites</a></li>
        <li><a href="#installation">Installation</a></li>
      </ul>
    </li>
    <li><a href="#usage">Usage</a></li>
    <li><a href="#customization-guide">Customization Guide</a></li>
    <li><a href="#license">License</a></li>
    <li><a href="#acknowledgments">Acknowledgments</a></li>
  </ol>
</details>

<!-- ABOUT THE PROJECT -->

## About The Project

<!-- <div align="center">
  <img src="./assets/image1.svg" alt="Footer Banner" width="100%" style="max-width: 1200px;">
</div> -->

This project is a sophisticated, persona-driven AI agent that runs in your terminal. Powered by a robust backend using LangGraph for state management and Gemini for intelligence, it maintains a persistent conversation history via MongoDB. Its modular architecture allows for easy extension of new tools and capabilities, from web searching and scraping to multimodal analysis of images, audio, and video files.

### Built With

[![Python][python-shield]][python-url]
[![LangChain][langchain-shield]][langchain-url]
[![Gemini][gemini-shield]][gemini-url]
[![MongoDB][mongodb-shield]][mongodb-url]
[![Rich][rich-shield]][rich-url]

<!-- GETTING STARTED -->

## Getting Started

To get the agent running on your local machine, follow these simple steps.

### Prerequisites

You will need the following software and API keys to run this project.

- [Python 3.10+](https://www.python.org/)
- `uv` (or any other Python virtual environment and package manager like `pip` or `poetry`)
  ```sh
  pip install uv
  ```
- API Keys for:
  - [Google Gemini](https://aistudio.google.com/app/apikey)
  - [MongoDB Atlas](https://www.mongodb.com/cloud/atlas/register) (for persistent memory)
  - [Tavily AI](https://tavily.com/) (for the web search tool)
  - [Cloudinary](https://cloudinary.com/users/register/free) (for multimodal file handling)

### Installation

1.  Clone the repository:

    ```bash
    git clone https://github.com/aditsuru-git/llm-agent-v2.git
    cd llm-agent-v2
    ```

2.  Create and activate a virtual environment:

    ```bash
    uv venv
    source .venv/bin/activate
    ```

3.  Install the required dependencies:

    ```bash
    uv pip install -requirements pyproject.toml
    ```

4.  Create a `.env` file in the root of the project by copying the example file:

    ```bash
    cp .env.example .env
    ```

5.  Edit the `.env` file and add your API keys and secrets:

    ```env
    # Google Gemini API
    GOOGLE_API_KEY="your_gemini_api_key"

    # MongoDB for persistent memory
    MONGO_URI="your_mongodb_connection_string"
    MONGO_DB_NAME="langgraph_chat_db"
    MONGO_COLLECTION="conversations"
    SESSION_ID="my_personal_chatbot_session"

    # Tavily for Web Search Tool
    TAVILY_API_KEY="your_tavily_api_key"

    # Cloudinary for multimodal file uploads
    CLOUDINARY_CLOUD_NAME="your_cloudinary_cloud_name"
    CLOUDINARY_API_KEY="your_cloudinary_api_key"
    CLOUDINARY_API_SECRET="your_cloudinary_api_secret"
    ```

<!-- USAGE EXAMPLES -->

## Usage

Start the chat application from the root directory:

```bash
uv run -m src.cli
```

### Features

- **üß† Persistent Memory**: Stores conversations in MongoDB, enabling the agent to recall past interactions and maintain long-term context across sessions.
- **üåê Web Search & Scraping**: Leverages Tavily for autonomous web exploration, combining real-time search with structured webpage scraping to deliver precise, up-to-date answers.
- **üé® Multimodal Understanding**: Processes images, audio, and video via local file paths, unlocking cross-media analysis (with optional manual cleanup through the Cloudinary dashboard).
- **‚ö° System Command Execution**: Executes safe, non-interactive shell commands with built-in guardrails‚Äîalways prompting for confirmation before running critical operations.
- **üíª Rich CLI Interface**: A sleek, intuitive command-line experience powered by **Rich**, featuring color-coded outputs, tables, and progress spinners for maximum usability.

### Chat Commands

| Command          | Description                                         |
| :--------------- | :-------------------------------------------------- |
| `/help`          | Show the help message with all available commands.  |
| `/clear`         | Clear the entire conversation history from MongoDB. |
| `/exit`, `/quit` | Gracefully exit the assistant.                      |

## Customization Guide

### Overview

The agent is designed to be highly customizable. You can easily change its appearance, personality, and capabilities by editing a few key files.

### UI Customization

Modify `src/config.py` to change the colors and styles of the entire chat interface. The file is well-commented, allowing you to change theme colors, actor colors (AI/User), and more.

```python
# src/config.py

# --- Core Theme ---
THEME_COLOR_PRIMARY = "cyan"
THEME_COLOR_SECONDARY = "magenta"

# --- Actor Colors ---
AI_COLOR = "#FF5733"
USER_COLOR = "green"
```

### Personality Customization

Edit `src/persona.py` to completely change the AI's persona. The `persona_text` string contains detailed instructions on the character's identity, behavior, and core principles. Modify this to create any character you can imagine.

**Important**: Please adjust only the persona-related context. Altering other settings could disrupt the AI‚Äôs functionality.

```python
# src/persona.py

persona_name = "Chizuru"

persona_text = """
[IMMEDIATE DIRECTIVE]
You are Chizuru Ichinose. From this moment on, you will act...

[CORE OPERATING PRINCIPLES]
1.  **Tool Mastery & Confidence**: You have a suite of internal capabilities...
"""
```

### Tool Customization

Adding or removing capabilities is simple and centralized. All tools are managed in the `src/tool_registry.py` file.

To add a new tool:

1.  Create your tool function in a relevant file (e.g., `src/tools/misc.py`).
2.  Import it into `src/tool_registry.py`.
3.  Add the tool function to the `all_tools` list.

The agent will automatically recognize the new tool and its description, and the LLM will learn to use it when appropriate.

```python
# src/tool_registry.py

# ... other tool imports
from src.tools.misc import my_new_tool

all_tools = [
    web_search,
    scrape_webpage,
    # ... other tools
    my_new_tool, # Add your new tool here
]
```

<!-- LICENSE -->

## License

Distributed under the **MIT License**. See `LICENSE` for more information.

<!-- ACKNOWLEDGMENTS -->

## Acknowledgments

This project wouldn't be possible without these incredible open-source projects and services.

- [Google Gemini](https://ai.google.dev/gemini-api/docs)
- [LangChain & LangGraph](https://python.langchain.com/docs/langgraph)
- [Rich](https://rich.readthedocs.io/en/latest/)
- [Tavily AI](https://tavily.com/)

<p align="right">(<a href="#readme-top">back to top</a>)</p>

<h1></h1>
<div align="center">
  <img src="https://github.com/aditsuru-git/readme-template/blob/main/assets/footer.png?raw=true" alt="Footer Banner" width="100%" style="max-width: 1200px;">
</div>

<!-- MARKDOWN LINKS & IMAGES -->

[contributors-shield]: https://img.shields.io/github/contributors/aditsuru-git/llm-agent-v2
[contributors-url]: https://github.com/aditsuru-git/llm-agent-v2/graphs/contributors
[forks-shield]: https://img.shields.io/github/forks/aditsuru-git/llm-agent-v2
[forks-url]: https://github.com/aditsuru-git/llm-agent-v2/network/members
[stars-shield]: https://img.shields.io/github/stars/aditsuru-git/llm-agent-v2
[stars-url]: https://github.com/aditsuru-git/llm-agent-v2/stargazers
[issues-shield]: https://img.shields.io/github/issues/aditsuru-git/llm-agent-v2
[issues-url]: https://github.com/aditsuru-git/llm-agent-v2/issues
[license-shield]: https://img.shields.io/github/license/aditsuru-git/llm-agent-v2
[license-url]: https://github.com/aditsuru-git/llm-agent-v2/blob/main/LICENSE
[release-shield]: https://img.shields.io/github/v/release/aditsuru-git/llm-agent-v2?include_prereleases
[release-url]: https://github.com/aditsuru-git/llm-agent-v2/releases
[last-commit-shield]: https://img.shields.io/github/last-commit/aditsuru-git/llm-agent-v2
[last-commit-url]: https://github.com/aditsuru-git/llm-agent-v2/commits/main

<!-- NOTE: Update the Discord server ID and invite link below -->

[discord-shield]: https://img.shields.io/discord/1313767817996402698?logo=discord&logoColor=white&label=discord&color=4d3dff
[discord-url]: https://discord.com/invite/HP2YPGSrWU

<!-- TECH STACK BADGES -->

[python-shield]: https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white
[python-url]: https://www.python.org/
[langchain-shield]: https://img.shields.io/badge/LangChain-0086CB?style=for-the-badge&logo=langchain&logoColor=white
[langchain-url]: https://www.langchain.com/
[gemini-shield]: https://img.shields.io/badge/GEMINI-white?style=for-the-badge&logo=googlegemini&logoColor=blue
[gemini-url]: https://ai.google.dev/gemini-api/docs
[mongodb-shield]: https://img.shields.io/badge/MongoDB-47A248?style=for-the-badge&logo=mongodb&logoColor=white
[mongodb-url]: https://www.mongodb.com/
[rich-shield]: https://img.shields.io/badge/Rich_CLI-FFD700?style=for-the-badge&logo=python&logoColor=black
[rich-url]: https://github.com/Textualize/rich
